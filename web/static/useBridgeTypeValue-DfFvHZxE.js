import{_ as v,d as B,o as C,c as h,a as _,b7 as e,q as d,g as y,j as k,c5 as S,aP as m,b4 as D,a_ as f,c6 as P}from"./index-gzDiX6cq.js";const R=B({name:"Delete"}),K={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},M=_("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),x=[M];function w(t,a,r,l,s,i){return C(),h("svg",K,x)}var z=v(R,[["render",w]]);const E=[e.MQTT,e.Webhook,e.KafkaProducer,e.KafkaConsumer,e.Confluent,e.Pulsar,e.RocketMQ,e.RabbitMQ,e.AzureEventHubs,e.AmazonKinesis,e.GCPProducer,e.GCPConsumer,e.MySQL,e.Redis,e.MongoDB,e.InfluxDB,e.PgSQL,e.TDengine,e.TimescaleDB,e.IoTDB,e.MatrixDB,e.OpenTSDB,e.GreptimeDB,e.ClickHouse,e.DynamoDB,e.Cassandra,e.MicrosoftSQLServer,e.OracleDatabase,e.HStream,e.Elasticsearch,e.S3,e.AzureBlobStorage,e.Couchbase,e.SysKeeperProxy,e.SysKeeperForwarder,e.Datalayers,e.Snowflake,e.Tablestore],b=E.reduce((t,a,r)=>({...t,[a]:r}),{}),g=()=>{const{t,tl:a}=d("RuleEngine"),r=[{value:e.Webhook,label:t("Auth.HTTPServer")},{value:e.MQTT,label:t("RuleEngine.mqttBroker")},{value:e.KafkaProducer,label:`${a("kafka")} ${a("producer")}`},{value:e.KafkaConsumer,label:`${a("kafka")} ${a("consumer")}`},{value:e.GCPProducer,label:`${a("gcpPubSub")}  ${a("producer")}`},{value:e.GCPConsumer,label:`${a("gcpPubSub")}  ${a("consumer")}`},{value:e.MySQL,label:a("mySQL")},{value:e.PgSQL,label:a("pgSql")},{value:e.MongoDB,label:a("mongoDB")},{value:e.InfluxDB,label:a("influxDBLabel")},{value:e.TimescaleDB,label:a("timescaleDB")},{value:e.Redis,label:a("redis")},{value:e.MatrixDB,label:a("matrixDB")},{value:e.TDengine,label:a("TDengine")},{value:e.ClickHouse,label:a("clickHouse")},{value:e.DynamoDB,label:a("dynamoDB")},{value:e.Cassandra,label:a("cassandra")},{value:e.RocketMQ,label:a("rocketMQ")},{value:e.MicrosoftSQLServer,label:a("microsoftSqlServer")},{value:e.IoTDB,label:a("iotDB")},{value:e.OpenTSDB,label:a("openTSDB")},{value:e.OracleDatabase,label:a("oracleDatabase")},{value:e.RabbitMQ,label:a("rabbitMQ")},{value:e.Pulsar,label:a("pulsar")},{value:e.HStream,label:a("hStream")},{value:e.AzureEventHubs,label:a("azureEventHubs")},{value:e.AmazonKinesis,label:a("amazonKinesis")},{value:e.GreptimeDB,label:a("greptimeDB")},{value:e.Confluent,label:`Confluent ${a("producer")}`},{value:e.SysKeeperForwarder,label:a("sysKeeperForwarder")},{value:e.Elasticsearch,label:"Elasticsearch"},{value:e.S3,label:"Amazon S3"},{value:e.AzureBlobStorage,label:"Azure Blob Storage"},{value:e.Couchbase,label:"Couchbase"},{value:e.Datalayers,label:"Datalayers"},{value:e.Snowflake,label:"Snowflake"},{value:e.Tablestore,label:a("tablestore")},{value:e.DiskLog,label:"Disk Log"}].sort((n,u)=>(b[n.value]??99)-(b[u.value]??99)),l=r.filter(({value:n})=>!S.includes(n)),s=n=>m(n,r),i=T,o=n=>{if(!n)return n;const u=i.findIndex(p=>n.indexOf(p)>-1);return u>-1?i[u]:n};return{bridgeTypeList:r,egressBridgeTypeList:l,getBridgeLabelByTypeValue:s,getBridgeGeneralType:o,getGeneralTypeLabel:n=>{const u=o(n);return s(u)||""}}},$=()=>{const{tl:t}=d("RuleEngine"),{bridgeTypeList:a}=g(),r=[...a];r.splice(r.findIndex(({value:o})=>o===e.SysKeeperForwarder),0,{value:e.SysKeeperProxy,label:t("sysKeeperProxy")});const l=o=>m(o,r),s=y(""),i=k(()=>{if(s.value.trim()==="")return r;const o=new RegExp(s.value.trim(),"i");return r.filter(c=>o.test(c.label))});return{connectorTypeList:r,getTypeStr:l,searchQuery:s,filteredConnectorTypeList:i}},A=g,T=[e.Pulsar,e.AzureEventHubs,e.AmazonKinesis],L=/consumer/i,I=()=>{const{bridgeTypeList:t}=g(),a=t.map(s=>({...s,desc:""})),r=y("");return{searchQuery:r,bridgeTypeOptions:a,getFilterBridgeOptions:()=>r.value.trim()===""?a:a.filter(s=>s.label.toLowerCase().includes(r.value.trim().toLowerCase()))}},G=()=>{const t={[e.Webhook]:"http",[e.PgSQL]:"postgresql",[e.AzureEventHubs]:"azure_event_hub",[e.KafkaProducer]:"kafka",[e.KafkaConsumer]:"kafka",[e.GCPProducer]:"gcp_pubsub",[e.GCPConsumer]:"gcp_pubsub",[e.Confluent]:"confluent",[e.SysKeeperForwarder]:"syskeeper",[e.SysKeeperProxy]:"syskeeper"},{getBridgeGeneralType:a}=g(),r=s=>{const i=a(s);return i&&i in t?t[i]:i};return{getBridgeIconKey:r,getBridgeIcon:s=>{if(!s)return"";try{return D(`img/${r(s)}.png`)}catch(i){return console.error(i),""}}}},H=()=>{const{getBridgeGeneralType:t}=g();return{judgeConnectorTypeDirection:r=>{const l=t(r);return S.includes(r)?f.Ingress:P.includes(l)?f.Both:T.includes(l)?L.test(r)?f.Ingress:f.Egress:f.Egress}}},O=()=>{const t="bridge_",a="post_connector",r=(c,n,u)=>`${n??t}${c}.${u??a}`,l=new Map([[e.MQTT,r(e.MQTT,"connector_")],[e.KafkaProducer,r("kafka")],[e.KafkaConsumer,r(e.KafkaConsumer,"")],[e.AzureEventHubs,r("azure_event_hub")],[e.Confluent,r("confluent","")],[e.PgSQL,r("postgres","connector_")],[e.GCPProducer,r(e.GCPProducer,"")],[e.Redis,r(e.Redis,"")],[e.SysKeeperForwarder,r(e.SysKeeperForwarder,"","post")],[e.SysKeeperProxy,r(e.SysKeeperProxy,"connector_","post")],[e.Elasticsearch,r(e.Elasticsearch,"","post")],[e.TDengine,r(`${e.TDengine}_connector`,"","post")],[e.OpenTSDB,r(`${e.OpenTSDB}_connector`,"","post")],[e.Cassandra,r("cassa")],[e.RabbitMQ,r(e.RabbitMQ,"","post")],[e.RocketMQ,r(e.RocketMQ,"")],[e.GCPConsumer,r(e.GCPConsumer,"")],[e.Pulsar,r(e.Pulsar,"","post")],[e.AzureBlobStorage,r(e.AzureBlobStorage,"connector_")],[e.Couchbase,r(e.Couchbase,"connector_")],[e.Snowflake,r(e.Snowflake,"connector_")],[e.DiskLog,r(e.DiskLog,"connector_")]]),s=new Map([[e.IoTDB,["iotdb.post_restapi","iotdb.post_thrift"]]]);return{typeWithMultipleRefKeyMap:s,getTypeRefKey:c=>l.get(c)??r(c),getTypeByConnectorSchemaRef:c=>{const n=c.replace(/^.+\//,"");for(const[u,p]of l.entries())if(p===n)return u;for(const[u,p]of s.entries())if(p.includes(n))return u;return n.replace(new RegExp(`${t}`),"").replace(new RegExp(`\\.${a}\\w*`),"")}}},V=()=>{const t="bridge_",a=".post_bridge_v2",r=(o,c)=>(c??t)+o+a,l=new Map([[e.MQTT,r("mqtt_publisher")],[e.AzureEventHubs,r("azure_event_hub")],[e.Confluent,r("confluent","")],[e.GCPProducer,r("gcp_pubsub_producer","")],[e.Redis,r(e.Redis,"")],[e.SysKeeperForwarder,r("syskeeper","")],[e.KafkaProducer,r("kafka")],[e.Cassandra,r("cassa")],[e.RocketMQ,r(e.RocketMQ,"")],[e.Pulsar,r(e.Pulsar,"")],[e.AzureBlobStorage,r(e.AzureBlobStorage,"action_")],[e.Couchbase,r(e.Couchbase,"action_")],[e.Snowflake,r(e.Snowflake,"action_")],[e.DiskLog,r(e.DiskLog,"action_")]]);return{getSchemaRefByType:o=>l.get(o)??r(o),getTypeByActionSchemaRef:o=>{const c=o.replace(/^.+\//,"");for(const[u,p]of l.entries())if(p===c)return u;return c.replace(new RegExp(`${t}`),"").replace(new RegExp(`${a}\\w*`),"")}}},F=()=>{const t="bridge_",a=".post_source",r=(o,c,n)=>(c??t)+o+a,l=new Map([[e.MQTT,r("mqtt_publisher")],[e.GCPConsumer,r(e.GCPConsumer,"")],[e.KafkaConsumer,r(e.KafkaConsumer,"")]]);return{getSchemaRefByType:o=>l.get(o)??r(o),getTypeBySourceSchemaRef:o=>{const c=o.replace(/^.+\//,"");for(const[u,p]of l.entries())if(p===c)return u;return c.replace(new RegExp(`${t}`),"").replace(new RegExp(`${a}\\w*`),"")}}};export{z as _,G as a,I as b,g as c,V as d,F as e,$ as f,O as g,H as h,T as t,A as u};
