import{d as z,q as D,j as g,m as T,w as o,u as a,y as q,r as p,o as u,a as l,b as n,e as k,t as _,c as f,k as w,F as B,g as A,a5 as U}from"./index-F6_Zcexc.js";import{w as F}from"./useActionAndSourceStatus-BuifRkTw.js";import{p as j}from"./useDataHandler-Dj1fwDX7.js";const I={class:"el-message-box__container"},L={class:"el-icon el-message-box__status el-message-box-icon--warning"},M={class:"el-message-box__message"},G={class:"data-list"},H={class:"dialog-footer"},Z=z({__name:"DelConnectorTip",props:{modelValue:{type:Boolean},connector:{}},emits:["update:modelValue"],setup(E,{emit:R}){const c=E,y=R,{t:h,tl:V}=D("RuleEngine"),i=g({get:()=>c.modelValue,set:t=>{y("update:modelValue",t)}}),b=g(()=>{var t;return((t=c.connector)==null?void 0:t.actions)||[]}),v=g(()=>{var t;return((t=c.connector)==null?void 0:t.sources)||[]}),S=g(()=>{let t;return b.value.length&&v.value.length?t=V("actionsAndSources"):b.value.length?t=V("actions"):v.value.length&&(t="Sources"),h("RuleEngine.deleteConnectorTip",{target:t})}),$=(t,m)=>{var e;return{name:`${m}-detail`,params:{id:`${(e=c.connector)==null?void 0:e.type}:${t}`},query:{tab:"settings"}}};return(t,m)=>{const e=p("router-link"),d=p("el-tag"),C=p("el-button"),x=p("el-dialog");return u(),T(x,{modelValue:a(i),"onUpdate:modelValue":m[1]||(m[1]=s=>q(i)?i.value=s:null),width:400,class:"common-dialog delete-second-confirm",title:a(h)("Base.confirmDelete"),"z-index":2e3},{footer:o(()=>[l("span",H,[n(C,{onClick:m[0]||(m[0]=s=>i.value=!1)},{default:o(()=>[k(_(t.$t("Base.cancel")),1)]),_:1})])]),default:o(()=>[l("div",null,[l("div",I,[l("i",L,[n(a(F))]),l("div",M,_(a(S)),1)]),l("ul",G,[(u(!0),f(B,null,w(a(b),s=>(u(),f("li",{key:s,class:"data-item"},[n(d,{size:"large"},{default:o(()=>[n(e,{to:$(s,"action"),target:"_blank"},{default:o(()=>[k(_(s),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),(u(!0),f(B,null,w(a(v),s=>(u(),f("li",{key:s,class:"data-item"},[n(d,{size:"large"},{default:o(()=>[n(e,{to:$(s,"source"),target:"_blank"},{default:o(()=>[k(_(s),1)]),_:2},1032,["to"])]),_:2},1024)]))),128))])])]),_:1},8,["modelValue","title"])}}}),J={class:"el-message-box__container"},K={class:"el-icon el-message-box__status el-message-box-icon--warning"},O={class:"el-message-box__message"},P={class:"data-list"},Q={class:"dialog-footer"},ee=z({__name:"DisableConnectorConfirm",props:{modelValue:{type:Boolean},connector:{}},emits:["update:modelValue","submitted"],setup(E,{emit:R}){const c=E,y=R,{t:h,tl:V}=D("RuleEngine"),i=g({get:()=>c.modelValue,set:e=>{y("update:modelValue",e)}}),b=g(()=>{var e;return((e=c.connector)==null?void 0:e.actions)||[]}),v=g(()=>{var e;return((e=c.connector)==null?void 0:e.sources)||[]}),S=g(()=>{let e;return b.value.length&&v.value.length?e=V("actionsAndSources"):b.value.length?e=V("actions"):v.value.length&&(e="Sources"),h("RuleEngine.disabledConnectorTip",{target:e})}),$=(e,d)=>({name:`${d}-detail`,params:{id:`${c.connector.type}:${e}`},query:{tab:"settings"}}),t=A(!1),m=async()=>{c.connector&&(await j(c.connector.id,!1),U.success(h("Base.disabledSuccess")),y("submitted"),i.value=!1)};return(e,d)=>{const C=p("router-link"),x=p("el-tag"),s=p("el-button"),N=p("el-dialog");return u(),T(N,{modelValue:a(i),"onUpdate:modelValue":d[1]||(d[1]=r=>q(i)?i.value=r:null),class:"common-dialog delete-second-confirm",width:400,"z-index":2e3},{footer:o(()=>[l("span",Q,[n(s,{onClick:d[0]||(d[0]=r=>i.value=!1)},{default:o(()=>[k(_(e.$t("Base.cancel")),1)]),_:1}),n(s,{type:"danger",plain:"",onClick:m,loading:a(t)},{default:o(()=>[k(_(e.$t("Base.confirm")),1)]),_:1},8,["loading"])])]),default:o(()=>[l("div",null,[l("div",J,[l("i",K,[n(a(F))]),l("div",O,_(a(S)),1)]),l("ul",P,[(u(!0),f(B,null,w(a(b),r=>(u(),f("li",{key:r,class:"data-item"},[n(x,{size:"large"},{default:o(()=>[n(C,{to:$(r,"action"),target:"_blank"},{default:o(()=>[k(_(r),1)]),_:2},1032,["to"])]),_:2},1024)]))),128)),(u(!0),f(B,null,w(a(v),r=>(u(),f("li",{key:r,class:"data-item"},[n(x,{size:"large"},{default:o(()=>[n(C,{to:$(r,"source"),target:"_blank"},{default:o(()=>[k(_(r),1)]),_:2},1032,["to"])]),_:2},1024)]))),128))])])]),_:1},8,["modelValue"])}}});export{Z as _,ee as a};
