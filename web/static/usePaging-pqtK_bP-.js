import{g as o,M as n}from"./index-Dp_94g6t.js";const A=20,k=()=>{const s=o([]);let y=[];const l=o([]);let a;const r=o([]);let g=A;const v=o([]),D=t=>{s.value=t,h(),f(),u()},E=(t,e)=>{if(typeof t=="string"){const i=new RegExp(t,"i");return Array.isArray(e)?e.some(c=>i.test(c)):i.test(e)}else if(n.isRegExp(t))return t.test(e);return t===e},h=(t=[])=>{y=n.cloneDeep(t),t.length===0?l.value=s.value:l.value=s.value.filter(e=>t.every(({key:i,value:c})=>E(c,e[i])))},f=t=>{t?(a=JSON.stringify(t),r.value=n.orderBy(l.value,[t.key],[t.type])):(a=void 0,r.value=l.value)},u=(t=A)=>{g=t,v.value=n.chunk(r.value,g)};return{totalData:s,setTotalData:D,getAPageData:(t,e=[],i)=>(n.isEqual(y,e)?!i&&a||i&&a!==JSON.stringify(i)?(f(i),u(t.limit)):t.limit!==g&&u(t.limit):(h(e),f(i),u(t.limit)),{data:v.value.length===0?[]:v.value[t.page-1]||[],meta:{count:r.value.length,limit:t.limit,page:t.page}})}};export{k as u};
