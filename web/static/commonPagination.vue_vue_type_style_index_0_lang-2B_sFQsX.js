import{d as h,j as _,m as C,u as a,r as z,o as c,J as v,c as x,x as f,aK as l}from"./index-gzDiX6cq.js";const k=h({__name:"MiniPagination",props:{currentPage:{type:Number,required:!0},hasnext:{type:Boolean,required:!0}},emits:["current-change"],setup(s,{emit:m}){const o=s,e=m,r=_(()=>o.hasnext?o.currentPage+1:o.currentPage),u=i=>{e("current-change",i)};return(i,d)=>{const g=z("el-pagination");return c(),C(g,{background:"",layout:"sizes, prev, next","current-page":s.currentPage,"page-count":a(r),onCurrentChange:u},null,8,["current-page","page-count"])}}}),y={class:"common-pagination"},D=h({__name:"commonPagination",props:{metaData:{type:Object,required:!0,default:()=>({})}},emits:["loadPage","update:metaData"],setup(s,{emit:m}){var d,g;const o=s,e=_(()=>o.metaData);(d=e.value).limit||(d.limit=20),(g=e.value).page||(g.page=1);const r=m;v(e,t=>{r("update:metaData",t)});const u=t=>{e.value.page=1,r("loadPage",{page:e.value.page,limit:t})},i=t=>{e.value.page!==t&&(e.value.page=t),r("loadPage",{page:t,limit:e.value.limit})};return(t,n)=>{const P=z("el-pagination");return c(),x("div",y,[a(e).count&&a(e).count>(a(e).limit>=a(l)[0]?a(l)[0]:a(e).limit)?(c(),C(P,{key:0,background:"",layout:"total, sizes, prev, pager, next","page-sizes":a(l),"page-size":a(e).limit,"onUpdate:pageSize":n[0]||(n[0]=p=>a(e).limit=p),"current-page":a(e).page,"onUpdate:currentPage":n[1]||(n[1]=p=>a(e).page=p),total:a(e).count,onSizeChange:u,onCurrentChange:i},null,8,["page-sizes","page-size","current-page","total"])):a(e).count===-1?(c(),C(k,{key:1,"current-page":a(e).page,hasnext:!!a(e).hasnext,"page-sizes":a(l),"page-size":a(e).limit,"onUpdate:pageSize":n[2]||(n[2]=p=>a(e).limit=p),onSizeChange:u,onCurrentChange:i},null,8,["current-page","hasnext","page-sizes","page-size"])):f("",!0)])}}});export{D as _};
