import{u as he}from"./useClusterNodes-BxiAU_C5.js";import{_ as oe,d as H,o as r,c as U,a as s,r as a,b as n,w as t,t as h,e as F,n as j,u,f as W,g as z,h as X,i as se,j as B,F as I,k as O,l as D,m as R,p as J,v as G,q as Y,s as te,x as N,y as x,z as ne,A as _e,I as le,B as ae,C as ie,D as ge,E as Ae,G as ve,H as ke,J as ce,K as we,L as re,M as be,N as ye,O as Se,P as Ee,Q as Ve,R as Ce,S as Te}from"./index-Dp_94g6t.js";import{l as Be,a as Ue,b as Le}from"./common-7tZUksOK.js";import{_ as Me}from"./MarkdownContent.vue_vue_type_style_index_0_lang-oyE4YyGM.js";import{u as ee}from"./useDocLink-Ksjh4w9I.js";import{_ as Pe}from"./FormItemLabel.vue_vue_type_style_index_0_lang-COEYw7jn.js";import{m as Qe}from"./more-filled-oO2Y30cN.js";import{s as $e}from"./setting-9MIiA4cd.js";import{a as Re}from"./arrow-right-CfKClDRJ.js";import{u as Ie}from"./useEditionConfigs-BX9wkpw0.js";import"./compareVersions-DqEOhma6.js";import"./http-DdqGSA6b.js";import"./InfoTooltip-CtXDYqOe.js";const qe=H({name:"Bell"}),He={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Oe=s("path",{fill:"currentColor",d:"M512 64a64 64 0 0 1 64 64v64H448v-64a64 64 0 0 1 64-64z"},null,-1),Fe=s("path",{fill:"currentColor",d:"M256 768h512V448a256 256 0 1 0-512 0v320zm256-640a320 320 0 0 1 320 320v384H192V448a320 320 0 0 1 320-320z"},null,-1),ze=s("path",{fill:"currentColor",d:"M96 768h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm352 128h128a64 64 0 0 1-128 0z"},null,-1),Ne=[Oe,Fe,ze];function Ke(e,i,_,g,d,c){return r(),U("svg",He,Ne)}var je=oe(qe,[["render",Ke]]);const De=H({name:"Right"}),xe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Xe=s("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312L754.752 480z"},null,-1),Ye=[Xe];function Je(e,i,_,g,d,c){return r(),U("svg",xe,Ye)}var Z=oe(De,[["render",Je]]);const Ge={class:"emqx-version"},Ze=H({__name:"EMQXVersion",setup(e){const{versionInfo:i}=he({loadByDefault:!0,hideProgress:!0,timeout:25e3,getVersion:!0});return(_,g)=>{const d=a("router-link"),c=a("el-tooltip");return r(),U("span",Ge,[n(c,{disabled:!u(i).isMutiVersion,placement:"top"},{content:t(()=>[s("span",null,h(_.$t("Dashboard.multiVersionWarning")),1),n(d,{to:"/dashboard/nodes"},{default:t(()=>[F(h(_.$t("Dashboard.nodeList")),1)]),_:1}),s("span",null,h(_.$t("Dashboard.checkVersionInfo")),1)]),default:t(()=>[s("span",{class:j({dot:u(i).isMutiVersion})},h(u(i).latestVersion),3)]),_:1},8,["disabled"])])}}}),We=W(Ze,[["__scopeId","data-v-97c4822c"]]),ue=()=>({menuList:[{title:"monitoring",icon:"icon-monitoring",children:[{title:"dashboard",path:"/dashboard"},{title:"subscriptions",path:"/subscriptions"},{title:"monitoring-metrics",path:"/monitoring-metrics"},{title:"dropped-analysis",path:"/dropped-analysis"},{title:"alarm",path:"/alarm"}]},{title:"ruleengine",icon:"icon-integration",children:[{title:"rules",path:"/rule"},{title:"connector",path:"/connector"}]},{title:"management",icon:"icon-configuration",children:[{title:"listener",path:"/listener"}]},{title:"diagnose",icon:"icon-diagnosis",children:[{title:"message-trace",path:"/message-trace"},{title:"message-analysis",path:"/message-analysis"},{title:"log-trace",path:"/log-trace"},{title:"log-view",path:"/log-view"},{title:"topic-metrics",path:"/topic-metrics"}]},{title:"system",icon:"icon-system",children:[{title:"users",path:"/users"}]}]}),et=H({name:"Leftbar",setup(){const e=z([]),i=X(),_=se(),g=B(()=>i.state.leftBarCollapse),d=B(()=>i.state.theme),c=B(()=>{const{path:T}=_;return`/${T.split("/")[1]}`}),y=62,l=56,S=({children:T})=>((T==null?void 0:T.reduce((Q,{children:m})=>m?Q+=y+m.length*l:Q+=l,0))||0)>740,{menuList:C}=ue();return e.value=C,{store:i,theme:d,leftBarCollapse:g,defaultSelectedKeys:c,menus:e,needFixedHeight:S}}}),tt={class:"menu-item-title first-level"},nt={class:"menu-item-title"},ot={class:"menu-item-title group-name"},st={class:"menu-item-title"},lt={class:"menu-item-title first-level"};function at(e,i,_,g,d,c){const y=a("el-menu-item"),l=a("el-menu-item-group"),S=a("el-scrollbar"),C=a("el-sub-menu"),T=a("el-menu");return r(),U("div",{class:"left-bar",style:D({width:e.leftBarCollapse?"80px":"200px"})},[n(S,null,{default:t(()=>[n(T,{"default-active":e.defaultSelectedKeys,collapse:e.leftBarCollapse,router:"","collapse-transition":!1},{default:t(()=>[(r(!0),U(I,null,O(e.menus,(b,Q)=>(r(),U(I,{key:b.title},[b.children?(r(),R(C,{index:""+Q,key:Q,"popper-class":e.needFixedHeight(b)?"sub-menu-popper":""},{title:t(()=>[J(s("i",{class:j(["iconfont",b.icon])},null,2),[[G,e.leftBarCollapse]]),s("p",tt,h(e.$t(`components.${b.title}`)),1)]),default:t(()=>[n(S,null,{default:t(()=>[(r(!0),U(I,null,O(b.children,m=>(r(),U(I,{key:m.title},[m.children?(r(),R(l,{key:1},{title:t(()=>[s("p",ot,h(e.$t(`components.${m.title}`)),1)]),default:t(()=>[(r(!0),U(I,null,O(m.children,A=>(r(),R(y,{index:A.path,key:A.title},{title:t(()=>[s("p",st,h(e.$t(`components.${A.title}`)),1)]),_:2},1032,["index"]))),128))]),_:2},1024)):(r(),R(y,{key:0,index:m.path},{title:t(()=>[s("p",nt,h(e.$t(`components.${m.title}`)),1)]),_:2},1032,["index"]))],64))),128))]),_:2},1024)]),_:2},1032,["index","popper-class"])):(r(),R(y,{key:b.title,index:b.path},{default:t(()=>[J(s("i",{class:j(["iconfont",b.icon])},null,2),[[G,e.leftBarCollapse]]),s("p",lt,h(e.$t(`components.${b.title}`)),1)]),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-active","collapse"])]),_:1})],4)}const it=W(et,[["render",at]]),ct={class:"tip-content"},rt=["href"],ut={class:"dialog-footer"},dt=H({__name:"LicenseTipDialog",props:{modelValue:{type:Boolean,required:!0},maxSessions:{type:Number}},emits:["update:modelValue"],setup(e,{emit:i}){const _=e,g=i,d=X(),{tl:c}=Y("Dashboard"),{docMap:y}=ee(),l=B({get:()=>_.modelValue,set:V=>{g("update:modelValue",V)}}),S=B(()=>d.state.licenseData),C=B(()=>S.value.expiry),T=B(()=>C.value?600:580),b=B(()=>d.getters.isCommunityLicense),Q=`<a href="${y.applyLicense}" target="_blank">${c("licenseApply")}</a>`,m=te(),A=()=>{m.push({name:"license"}),l.value=!1};return(V,L)=>{const M=Me,E=a("i18n-t"),$=a("el-button"),P=a("el-dialog");return r(),R(P,{modelValue:u(l),"onUpdate:modelValue":L[1]||(L[1]=w=>x(l)?l.value=w:null),"align-center":"",class:"license-dialog",width:`${u(T)}px`},{footer:t(()=>[s("span",ut,[n($,{link:"",type:"primary",onClick:A},{default:t(()=>[F(h(u(c)("manageLicense")),1)]),_:1}),n($,{type:"primary",onClick:L[0]||(L[0]=w=>l.value=!1)},{default:t(()=>[F(h(u(c)("know")),1)]),_:1})])]),default:t(()=>[s("div",ct,[u(C)?(r(),R(E,{key:1,class:"tip",keypath:"Dashboard.licenseExpiryTip",tag:"p",scope:"global"},{default:t(()=>[s("a",{href:u(y).applyLicense,target:"_blank"},h(u(c)("updateLicense")),9,rt)]),_:1})):(r(),U(I,{key:0},[u(b)?(r(),R(M,{key:0,class:"tip",content:u(c)("communityLicenseTip")},null,8,["content"])):N("",!0),u(b)?N("",!0):(r(),U(I,{key:1},[n(M,{class:"tip",content:u(c)("licenseEvaluationTip",{n:`<strong> ${e.maxSessions} </strong>`})},null,8,["content"]),n(M,{class:"tip",content:u(c)("applyLicenseContent",{link:Q})},null,8,["content"])],64))],64))])]),_:1},8,["modelValue","width"])}}}),pt=H({name:"Settings"}),mt=H({...pt,props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:i}){const{t:_}=ne(),g=_e({lang:"en",theme:"dark",syncOsTheme:!1}),d=X();g.lang=d.state.lang,g.theme=d.state.theme,g.syncOsTheme=d.state.syncOsTheme;const c=e,y=i,l=B({get(){return c.modelValue},set(Q){y("update:modelValue",Q)}}),{tl:S}=Y("Settings"),C=[{value:"en",label:"English"},{value:"zh",label:"简体中文"}],T=[{value:"light",label:S("light")},{value:"dark",label:S("dark")}],b=async()=>{d.dispatch("UPDATE_SETTINGS",g)};return(Q,m)=>{const A=Pe,V=a("el-option"),L=a("el-select"),M=a("el-form-item"),E=a("el-col"),$=a("el-switch"),P=a("el-row"),w=a("el-form"),v=a("el-button"),p=a("el-drawer");return r(),R(p,{title:u(_)("components.settings"),modelValue:u(l),"onUpdate:modelValue":m[3]||(m[3]=o=>x(l)?l.value=o:null),size:"350px","destroy-on-close":"",class:"settings"},{footer:t(()=>[n(v,{type:"primary",onClick:b},{default:t(()=>[F(h(u(_)("Base.apply")),1)]),_:1})]),default:t(()=>[n(w,{class:"configuration-form","label-position":"top",model:u(g)},{default:t(()=>[n(P,{class:"settings-form"},{default:t(()=>[n(E,{span:24},{default:t(()=>[n(M,{prop:"lang"},{label:t(()=>[n(A,{label:u(S)("language"),desc:u(S)("languageTip")},null,8,["label","desc"])]),default:t(()=>[n(L,{modelValue:u(g).lang,"onUpdate:modelValue":m[0]||(m[0]=o=>u(g).lang=o)},{default:t(()=>[(r(),U(I,null,O(C,o=>n(V,{key:o.value,value:o.value,label:o.label},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),n(E,{span:24},{default:t(()=>[n(M,null,{label:t(()=>[n(A,{label:u(S)("syncOsTheme"),desc:u(S)("syncOsThemeTip")},null,8,["label","desc"])]),default:t(()=>[n($,{modelValue:u(g).syncOsTheme,"onUpdate:modelValue":m[1]||(m[1]=o=>u(g).syncOsTheme=o)},null,8,["modelValue"])]),_:1})]),_:1}),n(E,{span:24},{default:t(()=>[n(M,{prop:"theme"},{label:t(()=>[n(A,{label:u(S)("theme"),desc:u(S)("themeTip")},null,8,["label","desc"])]),default:t(()=>[n(L,{modelValue:u(g).theme,"onUpdate:modelValue":m[2]||(m[2]=o=>u(g).theme=o),disabled:u(g).syncOsTheme},{default:t(()=>[(r(),U(I,null,O(T,o=>n(V,{key:o.value,value:o.value,label:o.label},null,8,["value","label"])),64))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["title","modelValue"])}}}),ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABcCAMAAACBUME0AAAAbFBMVEUAAAAAxIcAsnMAtHYAsnMAs3UAsnQAsnQAuXwAsnQAsnQAsnQAsnMAsnQAtngAtXcAsnQAsnQAs3UAvHkAsnQAsnQAsnQAsnQAs3UAsnMAs3UAs3QAs3QAtHYAsnMAsnQAsnQAsnQAsnQAsXPBTr2KAAAAI3RSTlMABvMn4zjIdxGFVNi+lRgf7KxGDF22jmRLp0BvajDOnd2i0u41OpgAAAOzSURBVGje7ZnZjuIwEEXL2XeyEkJIgK7//8fRjIzXmEBMWhqJ89Zute2qunXtuOHLly9fvvwmJPaw9H66Y+8T+A0qZDjdeIC9cVEma3eO84QqZdjAjhxQpwz3jPKKC6Rn2A0SBiXq5PuWkhzqcfBQZHZhd9xYXNP5QFqj05hXWXA1b77OkJOw4aQKuupda3DjGR/4YMQPkNHTsZhFnV2iV/stQIEAntCXSowFigyvFNfPUIY8zUWKD/7VsVYVXKw1d4UKHjyl6VgOD9z+OE78dMNnvc/G1SOEJf/v1BmqBE+C7DdZ1wUpx7/qHlDFm0x7zVHglo+J/9oRdJQUTdxzGw6OmNZk1Sq9cILXIY86zoSP1bmw5uKK4/YjIHpo9QICBY/AUfYvCzqP3nc6Go1H5OGApazQ/4R7xgZGFqIEuUsS5nA5lz5sgcwsRJkQKeHy9cHxYRs1k4dhRSeSNvioegtboeWqQGXgXap3fAybSegUkZbth3IOwpjHKrAZUppyNNEFr3oFW7CA+tQdTEl1GnVkBht84+lyUOMhjn2AfBbXGGLF9sbqbUVHG8MoqFJplQzsiFmHqzQoB39ltmRFS8W4HnwgXErsVZOtB+8JAdt/7ARmb8/pj1ReDdgR0a8b0EnkHqV9CZYQ2ojmbFdyhGAD1+INdGp5QeqCBVjAb90/6wKmZ9MEdri6aJROP8pdcgILeN46s7Ff5HtlDHZcFg5aOYe1nOEULOBh9OYHl0jsWPvO/zEaVqjKKf1ETgvzmTOryY5p6xcf8O7AfN3xtRznVsehKU0k1TXSsSpaZ/Rs/Jy7LFys5sb2+NUvfpNDLU/6zR2Z222jcQwZLbzFO/nBsbwKh4aiNIHhNSRGypXA2/ANd+r4bHrvIZnwCPA+1fK0fsk/nlSiG1K8nmyxUf0+Ex3xwd3wFUtJ3zw4zkiZpMdOPmGwGELtIMPLa/J6AUvNOKK2Ema7GarkeyjgpNk9Tl5Ytkkfu4z+tkF/HLIbimSR0S0CVElXJRRliPy4OzlvvRiTO8qsW4F7Q6GFmxJVLiv1n1HGIWBEiigjXD6c4QBrJHIByufP7oiSDfsokU3wAqTPkHMFM36gCpF4Qm6G8+tC7wdvTWHgCgVPD4rS0zxp3vX/6ZS0vjENdYWcIOJ/VrdJ7RL4KNEp9yQlN7APZEr6Ma5S7dF4J9wUF/jxYSfI0nrOjv9e81EnL2A/ai26YwF7Esm+3CUEdqblQjmeIvgF3DCPw/HkEvjy5ct/zR9l2vHUhTIJlAAAAABJRU5ErkJggg==",ht="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABACAMAAAC6GQAEAAAAjVBMVEUAAABgT/9lVP9gT/9fT/9fUP9fTv9fTv9eTv9tV/9qYP9eTv9hUP9fTv9fT/9fT/9iUP9fTv9eTv9fT/9fT/9fTv9hUf9mVP9fT/9fTv9gUP9eTv9eTv9fTv9fTv9fUP9jU/9lVf9eTv9eT/9gUP9fT/9fTv9fT/9iUv9eT/9fTv9eT/9hUf9fTv9eTv9TjAlTAAAALnRSTlMAQx1apHnU+e0LB/QuycBTJ+bfj3DSNxSaZ17Zta2ERyAQoZM/z6p2Iri3h0xL0zqlNwAAAeFJREFUWMPtmNuOgjAQhqGoyEFBBQ8ogoJnnfd/vM1Ct6xZptCRZL3wuyMZPsp0SvKjtcPfbHytO3YzE8Cc7bryrYZQMFx1ossPIDjkL+vSIzxxTF/SWVuz9Izm8xEUmFuL7jMmpWQSfV9FP1cGUSfWdLP4em9ivQQd20NJfNYE5xhK9kxRZ/cdKAh17Qk9hAKnb6v4vKmYPHQqp15rnTvmzZvtsHNTMHZb6RYZr7/46Mm+8Cdmi2ZfwN9ofZdV3de8J0GDLhnwnp8aem6f+K4NEulHCkqWixatWfJiyYdNNFtx89AKZBxwjHK8pMJM6exbWaNQ/13OEKoSXUW4BIxhQhHqgDOlCD3AGVKE1gEXBqQe2omB4BI2Rc5H+A9CK+rXEDCq0A6ReWZEYY4ONFF4xoQetYerSZ3Omb3PLn+E7yr0xoN6wh6jCF0TUMYUoQE4DkXIHFx4JPXQzXr17E9We2GoK21yKBcWxGnr3BYDSIVV+lLLbXhNVGUxDqEWS4tyXfssmVbpS5rbFPqdV+mrKbdheRxPX425DQdPX3huU8G/ishSG06uvqbKQ6QvWzRP5LaHRqC6PeG57c8jUJrTV0NuI0RnaUimhHvJIFF+PyCjToT1Sl+PaV0xH7X+WfMFK1K4CjQ8CCAAAAAASUVORK5CYII=",_t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABHVBMVEUAAAA+svA5uvBVhvtKm/Y3wexRjPpOk/lFo/VBqvIDsXxNrf9AkNhQjvpSivpSjP1Fpvc9s/Q7uvA0xOtEq/M4w+5ThPs2wO5Pk/pPkPZHpPZSjvk6vPJcT/9WhPw1wOw/vOguuehWVvQCsXgAsXM/btIBsHdcUf5bUv8GtIEHsINZWv1bYP1Vb/oaraUeubwsqMhPh/hdTv8AsXM9cM6pof9WVvSNgv/QzP9kVf/7+//Ev/9tX/9iU//////29f/z8v/a1/+1rv+knP+ZkP+Wjf+Gev9eUP/t6//o5v/j4P/f3P/Lxv/Hw//Evv+6tP+xqv+SiP9yZf/v7v/m4/+gl/99cf97b/++uP+9uP+tpf9+cv99cv8wfboGqntOfgqQAAAAMnRSTlMAMzMzMzMzMzMzyAUELhkiHhkuLiMiHh4RCy4qKuYtGxEL/tb9+OPYzLCroW1jY0xGRCINj/wAAAIKSURBVDjLfdRnk6JAEIDhAY9VF0ExpzXcXs7XLKcg5px21U2X///PuB4GthCHe6v49lR3FQxDjiupyYoSiSiVpFoiocmqckaLsGqqzGWJfDQaPWPSK584dUUl6nQsa8WgSz3DeDR/7LLIfNJPkxyHkhUmUzHGgkOD24sxjEc9WWQuUabwf0OVhLvY6eMF8Lr44C2X4wy+BuDLCCYj1OJUfrp8DiHR/SrCchyLvdK/hUKUNTwvcScdYcswjGkXWuMgxEpEEwQPXq93o/UQjDYHqiQrYC68AXjsdSnc7yZzgNZuNjmA86aSpCo4UdhpTyebLSAcrcbDLdzfjjdWCyHSCkn74F2ns97gxK71C+zeYXUP3T5CmkIEH8TV89u90bZ7Nsyth+UeYIDQyQ+vf5jmzJrh6qUB04F5M/xt9FrAPipJi0/we7/fX/6E8RYe7gaLGZijobFwoUKqouhBfyY+0wnY1gEhViE5EWMw2ONiNRgBg0miiTQuhLltggtV0hSddJ1/KDxYIiTjwqsQ94ae6TIhpC5JCF/of/9ccXr5/msMpYZQlqi81Pmdx5xkghUk7PPbc17vvjguxX6ujEQTWcJTcSfqyu4V1JB4EvNkkTm2PHwoW8zK8SWjWQQByaOeO9kuBWSKBGpkeEPTDc7VXDiVhQThJdczfpmuyyS0pparok5Xc1qTHPUPoRCB2lZFsF0AAAAASUVORK5CYII=",gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAkFBMVEUAAAA/sPFQjvo5uvBLmfVGo/ZVhvs3wexHoO5Nlfo2we1GpvdThvw2wO5cT/4BsXZThvtOlfpCq/JQkv04w+5Pk/o4sOhSjvk7vPJEq/NSivQ4uvJVavs/vOhVg/8YqJ5YgP8TtJ1dTv8AsXOVi/91aP/////4+P+Gev9rXf9lV/9fUP/W0v9SWe9zZv8blJsmwK3DAAAAInRSTlMAMzMzMzMzMwQzLh0cHOjoLi4uIiIRCyoqIxgYbRELbSRttNqKegAAAXRJREFUOMuF0tl2gjAQgOGJCIRNVlnVtqhd7Pb+b9dAZiKEYP/r78wwh8C8U5tXieMkVd6eYDUeppshR5aEfIVtKIcy0X3qbZYy2esu2IpMNJyvzQVDqdPn6fpmi3meQU722ujMQ0N1hy0yUZJ4Ec9sKZ/i87T4iWjCcTFGTkkcisu5TZ3Pv9/9tN2BKB8GMqYgOSU3Y3JkxkQIez06KgEo2dgapE7QMYzgx5W6TWALDaMk/Hx7pb763iOYQ81UcuL7hbr2vfqnFWQzqKd+VArsP4hDwZpB/ZitbID+XRqOUa8vhdqyHh1DVVBYIgX1bII5dNbQKrSRtlBaY4tjfhCiLEFcI9OPuUgoaQoAkesinR9zGyHKQEDukowN34hxGEcifYnXYABD3HeJ7jS3kw814zB2dEkeUJI7sFHuAYtcGd0/TyxWFY9kA/c4ShNtOCJtu6vJALSOvmlodoRFPFrKiNbq1J9KH5mxsitqof266EqY9QdMtkwIAiaVKwAAAABJRU5ErkJggg==",At="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAllBMVEUAAABTiftOk/lArvA5uvA8tPBInfY3wexEp/ZHoO5Si/tGpvdThvw2wO5cT/4BsXY1w+w4w+5Pk/o4sOhGlPVHpPY8tvFSjvk6vPJQj/5SivQ4uvICsXkusdJBrfE/vOhVg/9bUv5WZ/wXqZ46qOlYgP9OoPhcUv9aVP4DsXtaVf4EsX1UbvoTsp1dTv8AsXNSWe8blJs+TVG0AAAALnRSTlMAMzMzMzMzMzMELh0cHOjoLiIRCz4uLioqIhgY1j4jEQvTbW05JCTdy8vAwG1tfqpxrQAAAW5JREFUOMuN1OlygjAUhuEjIUCCspbdrdXurbT3f3MNk6MhCx3f38+cTwcG0Dv2XcNXK950/REWY2thVHzNFpjneSs9Fy24cBblheliyWy61mdfgmBJPs/nhZMS0+VsVzCdutcLdItH8R+xCtniUc7kcBRFgpzScV568oxxJtwk0Sk5P8rw4NRoJvfVyYqQJagkByjJ1A3+/lzmJU9IjzAQKRGiUxKP9rAnMoQXM9zvoCXYMpxoAzW9B3ocCKX0X4gBnboH1j7S1A2D63TrS0m/UyfEF6WB3Bfh0c9xa0MpOxh8lKLtdueEgvZQ+kq+70hiuCSQlQCZf6XnHaVfifGspasAYBOGSPGXYg+Plw/5SotiAVmoS6rkq4CSMpAnFdXkW4QyhimWhRZFeZaywm/AIXRJbIKFdDhuUiVjuJVbUtFoDyqG0nV0zxAZ66FxNAajQ+Y6Wh/Aim1sucFZi2ZzWSNzVg55K3TW5kMJWn8mA1MxwFE8ogAAAABJRU5ErkJggg==",vt={class:"card-header"},kt={class:"sub-block-docs"},wt={class:"list-link"},bt=["href"],yt=H({__name:"DocListCard",props:{docList:{type:Array}},setup(e){const{tl:i}=Y("Settings"),{docMap:_}=ee(),g=()=>{window.open(_.moreAboutMqtt,"_blank","noopener noreferrer")};return(d,c)=>{const y=a("el-button"),l=a("el-tooltip"),S=a("el-icon"),C=a("el-card");return r(),R(C,{shadow:"never",class:"mqtt-doc-list card-second-doc with-border"},{header:t(()=>[s("div",vt,[s("span",null,h(u(i)("exploreMqtt")),1),n(l,{content:d.$t("Base.moreAboutMQTT"),placement:"top"},{default:t(()=>[n(y,{icon:u(Qe),class:"icon-button",text:"",onClick:g},null,8,["icon"])]),_:1},8,["content"])])]),default:t(()=>[s("div",kt,[s("ul",wt,[(r(!0),U(I,null,O(e.docList,({link:T,title:b})=>(r(),U("li",{class:"item-link",key:T},[s("a",{href:T,target:"_blank",class:"vertical-align-center"},[s("span",null,h(b),1),n(S,null,{default:t(()=>[n(u(Z))]),_:1})],8,bt)]))),128))])])]),_:1})}}}),St=["href"],Et=["src"],Vt={class:"text-title"},Ct={class:"text-large"},Tt=["href"],Bt=["src"],Ut={class:"card-product-bd"},Lt={class:"card-product-name text-title"},Mt={class:"card-product-desc tip"},Pt=["href"],Qt={class:"label-follow text-title"},$t=["href"],Rt=H({name:"Help"}),It=H({...Rt,props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:i}){const _=e,g=i,d=B({get(){return _.modelValue},set(A){g("update:modelValue",A)}}),{t:c,tl:y}=Y("Base"),{docMap:l}=ee(),S=[{link:l.documentation,icon:gt,title:y("documentation")},{link:l.forum,icon:At,title:y("forum")},{link:l.blog,icon:_t,title:y("blog")}],C=[{link:l.emqxGettingStarted,title:c("Settings.gettingStarted")},{link:l.dashboard,title:c("Settings.dashboardIntro")},{link:l.accessControl,title:c("Settings.howAccessControl")},{link:l.dataBridge,title:c("Settings.howDataIntegration")},{link:l.ruleEngine,title:c("Settings.howRuleEngine")},{link:l.learnConfig,title:c("Settings.learnConfig")},{link:l.restAPI,title:c("Settings.restAPI")},{link:l.faq,title:c("Settings.faq")}],T=[{link:l.mqttStudy,title:c("Settings.mqttStudy")},{link:l.mqttV5,title:c("Settings.mqttV5Intro")},{link:l.mqttClient,title:c("Settings.findMQTTClient")}],b=[{title:"EMQX Enterprise",desc:y("eeDesc"),linkText:c("Settings.tryEnterprise"),link:l.emqxEnterprise,icon:ht},{title:"EMQX Cloud",desc:y("cloudDesc"),linkText:c("Settings.tryCloud"),link:l.cloudHome,icon:ft}],Q=[{link:l.githubHome,icon:"icon-github"},{link:l.xHome,icon:"icon-x"},{link:l.youtubeHome,icon:"icon-youtube"},{link:l.linkedInHome,icon:"icon-linkedin"}],m=A=>{const L={feedback:l.feedback,contactUs:l.contactUs}[A];window.open(L,"_blank","noopener noreferrer")};return(A,V)=>{const L=a("el-card"),M=a("el-col"),E=a("el-row"),$=a("el-icon"),P=a("el-divider"),w=a("el-button"),v=a("el-drawer");return r(),R(v,{title:A.$t("components.help"),modelValue:u(d),"onUpdate:modelValue":V[2]||(V[2]=p=>x(d)?d.value=p:null),size:"600px","destroy-on-close":"",class:"help"},{footer:t(()=>[n(w,{type:"primary",plain:"",onClick:V[0]||(V[0]=p=>m("feedback"))},{default:t(()=>[F(h(A.$t("Base.feedback")),1)]),_:1}),n(w,{type:"primary",onClick:V[1]||(V[1]=p=>m("contactUs"))},{default:t(()=>[F(h(A.$t("Base.contactUs")),1)]),_:1})]),default:t(()=>[n(E,{class:"website-links",gutter:16},{default:t(()=>[(r(),U(I,null,O(S,({link:p,icon:o,title:f})=>n(M,{span:8,key:p},{default:t(()=>[s("a",{href:p,target:"_blank"},[n(L,{class:"card-link",shadow:"never"},{default:t(()=>[s("img",{src:o},null,8,Et),s("p",Vt,h(f),1)]),_:2},1024)],8,St)]),_:2},1024)),64))]),_:1}),n(E,{class:"docs-links"},{default:t(()=>[n(M,{span:24,class:"flex-column"},{default:t(()=>[(r(),U(I,null,O(C,({link:p,title:o},f)=>(r(),U(I,{key:p},[s("div",Ct,[s("a",{href:p,target:"_blank",class:"vertical-align-center space-between"},[s("span",null,h(o),1),n($,{size:20},{default:t(()=>[n(u(Z))]),_:1})],8,Tt)]),f!==C.length-1?(r(),R(P,{key:0})):N("",!0)],64))),64))]),_:1})]),_:1}),n(yt,{"doc-list":T}),("IS_ENTERPRISE"in A?A.IS_ENTERPRISE:u(le))?N("",!0):(r(),R(E,{key:0,gutter:16,class:"products-links"},{default:t(()=>[n(M,{span:24},{default:t(()=>[s("p",null,h(A.$t("Base.upgradePlan")),1)]),_:1}),(r(),U(I,null,O(b,p=>n(M,{key:p.title,span:12,class:"flex-column"},{default:t(()=>[n(L,{shadow:"never",class:"card-product enterprise with-border"},{default:t(()=>[s("img",{class:"img-product",src:p.icon},null,8,Bt),s("div",Ut,[s("p",Lt,h(p.title),1),s("p",Mt,h(p.desc),1),s("a",{href:p.link,target:"_blank",class:"link-product"},[s("span",null,h(p.linkText),1),n($,null,{default:t(()=>[n(u(Z))]),_:1})],8,Pt)])]),_:2},1024)]),_:2},1024)),64))]),_:1})),n(L,{shadow:"never",class:"follow-cards"},{default:t(()=>[n(E,{class:"follow-links",align:"middle"},{default:t(()=>[n(M,{span:12},{default:t(()=>[s("p",Qt,h(A.$t("Base.followUs")),1)]),_:1}),n(M,{span:12,class:"social-media"},{default:t(()=>[(r(),U(I,null,O(Q,({link:p,icon:o})=>s("a",{class:"item-icon",key:p,href:p,target:"_blank"},[s("i",{class:j(["iconfont",o])},null,2)],8,$t)),64))]),_:1})]),_:1})]),_:1})]),_:1},8,["title","modelValue"])}}}),qt=H({name:"NavHeader",components:{Right:Z,Bell:je,Setting:$e,Settings:mt,Help:It,Search:ae},props:{title:{type:String,default:""}},setup(e,i){const _=z(!1),g=z(!1),d=X(),{t:c}=ne(),y=te(),l=B(()=>d.state.alertCount),S=B(()=>d.state.leftBarCollapse),C=B(()=>d.state.user),T=B(()=>l.value>0?`${c("components.theSystemHas")} ${l.value} ${c("components.noteAlertClickView")}`:c("components.noWarning")),b=B(()=>d.getters.isEvaluationLicense),Q=()=>document.visibilityState==="visible"&&m(),m=async()=>{try{const{data:v}=await Be();d.dispatch("SET_ALERT_COUNT",(v||[]).length)}catch{}},A=()=>{Ae.confirm(c("components.whetherToLogOutOrNot"),{confirmButtonText:c("components.signOut"),cancelButtonText:c("Base.cancel"),type:"warning",beforeClose:async(v,p,o)=>{if(v!=="confirm"){o();return}p.confirmButtonLoading=!0;try{const{user:f,loginBackend:k}=d.state;await Ue(f.username,k),ve(),ke.success(c("components.loggedOut")),o()}catch{p.confirmButtonLoading=!1,p.confirmButtonText=c("components.signOut"),o()}}})},V=v=>{if(v){if(v==="logout")return A();y.currentRoute.value.name!==v&&y.push({name:v})}},{docMap:L}=ee(),M=()=>{const v=window.open(L.contactUs);v&&(v.opener=null)},E=()=>{_.value=!0},$=()=>{g.value=!0},P=B(()=>/Mac/.test(navigator.userAgent)),w=()=>{i.emit("open-quick-panel")};return m(),ie(()=>{document.addEventListener("visibilitychange",Q)}),ge(()=>{document.removeEventListener("visibilitychange",Q)}),{t:c,IS_ENTERPRISE:le,showSettings:_,showHelp:g,store:d,leftBarCollapse:S,alertCount:l,alertText:T,user:C,isEvaluationLicense:b,routeToContactUs:M,handleDropdownCommand:V,logout:A,visibilityChangeFunc:Q,handleShowSettings:E,handleShowHelp:$,isMac:P,openQuickPanel:w}}}),Ht={class:"header-title"},Ot={class:"pull-right"},Ft={class:"enter-hd"},zt={class:"enter-ft"},Nt={key:0,class:"icon-key is-cmd"},Kt={key:1,class:"icon-key"},jt={class:"func-item"},Dt={class:"func-item"},xt={class:"func-item"},Xt={class:"user-avatar"};function Yt(e,i,_,g,d,c){const y=a("Search"),l=a("el-icon"),S=a("right"),C=a("el-button"),T=a("bell"),b=a("router-link"),Q=a("el-badge"),m=a("el-tooltip"),A=a("Setting"),V=a("el-dropdown-item"),L=a("el-dropdown-menu"),M=a("el-dropdown"),E=a("settings"),$=a("help");return r(),U("div",{class:"nav-header",style:D({left:e.leftBarCollapse?"201px":"80px"})},[s("h1",Ht,h(e.title),1),s("div",Ot,[s("div",{class:"quick-panel-enter",onClick:i[0]||(i[0]=(...P)=>e.openQuickPanel&&e.openQuickPanel(...P))},[s("div",Ft,[n(l,{size:16},{default:t(()=>[n(y)]),_:1}),s("span",null,h(e.t("Base.quickFind")),1)]),s("div",zt,[e.isMac?(r(),U("span",Nt,"⌘")):(r(),U("span",Kt,"Ctrl")),i[5]||(i[5]=s("span",{class:"icon-key"},"K",-1))])]),e.isEvaluationLicense?(r(),R(C,{key:0,class:"go-link",onClick:e.routeToContactUs},{default:t(()=>[F(h(e.$t("Base.contactUs")),1),n(l,null,{default:t(()=>[n(S)]),_:1})]),_:1},8,["onClick"])):N("",!0),n(m,{effect:"dark",content:e.alertText,placement:"bottom","show-arrow":!1},{default:t(()=>[s("div",jt,[n(Q,{"is-dot":!!e.alertCount},{default:t(()=>[n(b,{class:"link-alarm",to:"/alarm"},{default:t(()=>[n(l,{class:"bell"},{default:t(()=>[n(T)]),_:1})]),_:1})]),_:1},8,["is-dot"])])]),_:1},8,["content"]),n(m,{effect:"dark",content:e.$t("components.help"),placement:"bottom","show-arrow":!1},{default:t(()=>[s("a",{href:"javascript:;",onClick:i[1]||(i[1]=(...P)=>e.handleShowHelp&&e.handleShowHelp(...P)),class:"link-help"},i[6]||(i[6]=[s("i",{class:"iconfont icon-question"},null,-1)]))]),_:1},8,["content"]),n(m,{effect:"dark",content:e.$t("components.settings"),placement:"bottom","show-arrow":!1},{default:t(()=>[s("div",Dt,[s("a",{class:"settings-alarm",href:"javascript:;",onClick:i[2]||(i[2]=(...P)=>e.handleShowSettings&&e.handleShowSettings(...P))},[n(l,{class:"settings"},{default:t(()=>[n(A)]),_:1})])])]),_:1},8,["content"]),n(M,{placement:"bottom",onCommand:e.handleDropdownCommand},{dropdown:t(()=>[n(L,null,{default:t(()=>[n(V,{command:"users"},{default:t(()=>[F(h(e.$t("components.usersManagement")),1)]),_:1}),n(V,{divided:"",command:"logout"},{default:t(()=>[F(h(e.$t("components.logOut")),1)]),_:1})]),_:1})]),default:t(()=>{var P;return[s("div",xt,[s("span",Xt,h((P=e.user.username)==null?void 0:P.substr(0,1).toUpperCase()),1),s("span",null,h(e.user.username),1)])]}),_:1},8,["onCommand"])]),n(E,{modelValue:e.showSettings,"onUpdate:modelValue":i[3]||(i[3]=P=>e.showSettings=P)},null,8,["modelValue"]),n($,{modelValue:e.showHelp,"onUpdate:modelValue":i[4]||(i[4]=P=>e.showHelp=P)},null,8,["modelValue"])],4)}const Jt=W(qt,[["render",Yt],["__scopeId","data-v-ff14afae"]]),Gt={class:"space-between quick-result-item"},Zt={class:"value vertical-align-center"},Wt={class:"tip"},en=H({__name:"QuickPanel",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(e,{emit:i}){const _=e,g=i,d=B({get:()=>_.modelValue,set:w=>{g("update:modelValue",w)}}),c=z();ce(d,async w=>{w?(await ye(100),c.value.focus()):V.value=""});const{te:y}=ne(),{t:l,tl:S}=Y("Base"),C=w=>new RegExp(`${w}(/(\\w|-)+)+$`),{menuList:T}=ue(),b=w=>{let v;const p=f=>{if(f.path){const k=f.path===w,q=C(f.path).test(w);return q&&(v=f),k||q}else if(f.children)return f.children.some(k=>p(k));return!1},o=T.find(f=>p(f));return{parentLabel:v?l(`components.${v.title}`):void 0,blockTitle:o?l(`components.${o.title}`):""}},Q=/:/,A=(w=>{const v=[],p=(o,f,k=0)=>{if(!(o.path&&Q.test(o.path))){if(k===1){const q=`${f!=null&&f.path?f.path:""}${f!=null&&f.path&&o.path?"/":""}${o.path}`,K=o.name,pe=y(`components.${K}`)?l(`components.${K}`):Se(o.name),{parentLabel:me,blockTitle:fe}=b(q);v.push({path:q,name:o.name,label:pe,parentLabel:me,blockTitle:fe})}o.children&&k===0&&o.children.forEach(q=>{p(q,o,k+1)})}};return w.forEach(o=>p(o)),v})(re),V=z(""),L=["overview","subscription","rule"],M=(w,v)=>{if(!w)v(A.filter(({name:p})=>L.includes(p)));else{const p=w.split(" ").map(f=>new RegExp(`${be.escapeRegExp(f)}`,"i")),o=A.filter(({path:f,name:k,label:q})=>p.every(K=>K.test(f))||p.every(K=>K.test(q))||k&&p.every(K=>K.test(k)));v(o)}},E=te(),$=w=>{w.name?E.push({name:w.name}):E.push({path:w.path}),d.value=!1},P=()=>{d.value=!1};return(w,v)=>{const p=a("el-icon"),o=a("el-autocomplete"),f=a("el-dialog");return r(),R(f,{modelValue:u(d),"onUpdate:modelValue":v[1]||(v[1]=k=>x(d)?d.value=k:null),"destroy-on-close":"",width:"500px",class:"quick-panel"},{default:t(()=>[n(o,{ref_key:"InputRef",ref:c,modelValue:u(V),"onUpdate:modelValue":v[0]||(v[0]=k=>x(V)?V.value=k:null),clearable:"",size:"large","value-key":"name","popper-class":"quick-panel-popper",debounce:50,placeholder:u(S)("search"),"highlight-first-item":!!u(V),"fetch-suggestions":M,onKeyup:we(P,["esc"]),onSelect:$},{prefix:t(()=>[n(p,{size:20},{default:t(()=>[n(u(ae))]),_:1})]),default:t(({item:k})=>[s("div",Gt,[s("div",Zt,[J(s("div",null,[s("span",null,h(k.parentLabel),1),n(p,{class:"icon-arrow"},{default:t(()=>[n(u(Re))]),_:1})],512),[[G,k.parentLabel]]),s("span",null,h(k.label),1)]),s("p",Wt,h(k.blockTitle),1)])]),_:1},8,["modelValue","placeholder","highlight-first-item"])]),_:1},8,["modelValue"])}}}),de=["flow-create","flow-detail"],tn=["flow",...de],nn=H({name:"Layout",components:{NavHeader:Jt,LeftBar:it,LicenseTipDialog:dt,QuickPanel:en},props:{keepAlive:{type:Boolean,default:!1}},setup(){const e=o=>String(o).replace(/-([a-z])/g,(f,k)=>k.toUpperCase()),i=X(),_=se(),{appLogo:g}=Ie(),d=z(!1),c=B(()=>i.getters.isEvaluationLicense),y=B(()=>i.state.edition),l=B(()=>i.state.leftBarCollapse),S=B(()=>l.value?"80px":"200px"),C=B(()=>{const{path:o}=_;return re.find(k=>{const q=`/${o.split("/")[1]}`;return k.path!=="/"&&q===k.path})||{}}),T=B(()=>{const{path:o}=_,f=o.split("/");return f.length>2?`${C.value.path}/${f[2]}`:o}),b=B(()=>{const{meta:o}=C.value;return o&&o.subMenu}),Q=B(()=>{var k;const{meta:o}=C.value;if(o.showSubMenuInFirstLevel||!1){const q=(k=_.path.match(/\//g))==null?void 0:k.length;return q&&q<=2}return!0}),m=async()=>{try{const o=await Le();await i.commit("SET_LICENSE_DATA",o)}catch{}},A=()=>{d.value=c.value||i.state.licenseData.expiry||i.getters.isCommunityLicense};ie(async()=>{await m(),A()}),m();const V=B(()=>{const{name:o}=_;return o&&tn.includes(o)}),L=z(""),M=z(!1),E=()=>{var k,q;const{path:o}=_||[],f=o.split("/")[1];L.value=f,M.value=((q=(k=_.matched)==null?void 0:k[1])==null?void 0:q.name)==="not-found"};Ee(o=>{o&&o.name&&de.includes(o.name.toString())&&!l.value&&i.dispatch("SET_LEFT_BAR_COLLAPSE",!0)});const $=z(!1),P=()=>$.value=!0,w=o=>{o.key==="k"&&(o.ctrlKey||o.metaKey)&&(o.preventDefault(),P())},v=()=>document.addEventListener("keydown",w);return Ve(()=>document.removeEventListener("keydown",w)),ce(_,()=>{E()}),E(),v(),{store:i,route:_,showLicenseTipDialog:d,edition:y,elMainStyle:S,topLvRoute:C,defaultSubMenu:T,hasSubMenu:b,showSubMenu:Q,leftBarCollapse:l,fullHeight:V,kebab2pascal:e,isNotFound:M,firstPath:L,showQuickPanel:$,openQuickPanel:P,appLogo:g}}}),on=["src"],sn={class:"main-content"};function ln(e,i,_,g,d,c){const y=a("left-bar"),l=We,S=a("el-aside"),C=a("nav-header"),T=a("el-header"),b=a("el-menu-item"),Q=a("el-menu"),m=a("router-view"),A=a("el-scrollbar"),V=a("el-main"),L=a("el-container"),M=a("QuickPanel");return r(),U(I,null,[n(L,null,{default:t(()=>[n(S,{style:D({width:e.leftBarCollapse?"80px":"200px"})},{default:t(()=>[s("div",{class:j(["logo",e.leftBarCollapse?"logo-colap":""])},[s("img",{src:e.appLogo,alt:"logo"},null,8,on)],2),n(y),s("div",{class:"footer-menu",style:D({width:e.leftBarCollapse?"79px":"199px"})},[s("a",{class:"footer-menu-item",onClick:i[0]||(i[0]=()=>{e.store.dispatch("SET_LEFT_BAR_COLLAPSE",!e.leftBarCollapse)})},[s("i",{class:j(["iconfont","icon-fold",e.leftBarCollapse?"rotate":""])},null,2),J(n(l,null,null,512),[[G,!e.leftBarCollapse]])])],4)]),_:1},8,["style"]),n(L,{class:"layout"},{default:t(()=>[n(T,{style:D({left:e.elMainStyle,height:"auto"})},{default:t(()=>[n(C,{title:e.isNotFound?e.$t("Base.pageNotFound"):e.$t(`components.${e.firstPath}`),onOpenQuickPanel:e.openQuickPanel},null,8,["title","onOpenQuickPanel"])]),_:1},8,["style"]),n(V,{style:D({marginLeft:e.elMainStyle})},{default:t(()=>[s("div",sn,[n(A,null,{default:t(()=>[e.hasSubMenu&&e.showSubMenu?(r(),R(Q,{ellipsis:!1,"default-active":e.defaultSubMenu,key:e.defaultSubMenu,mode:"horizontal",router:"",class:"top-submenu"},{default:t(()=>[(r(!0),U(I,null,O(e.topLvRoute.children,E=>{var $;return r(),U(I,{key:e.topLvRoute.path+"/"+E.path},[($=E.meta)!=null&&$.hideInMenu?N("",!0):(r(),R(b,{key:0,index:e.topLvRoute.path+"/"+E.path},{default:t(()=>[F(h(e.$t(`components.${E.name}`)),1)]),_:2},1032,["index"]))],64)}),128))]),_:1},8,["default-active"])):N("",!0),s("div",{class:j({"is-full-height":e.fullHeight})},[n(m,null,{default:t(({Component:E,route:$})=>[(r(),R(Te,null,[e.keepAlive?(r(),R(Ce(E),{key:$.fullPath})):N("",!0)],1024))]),_:1}),e.keepAlive?N("",!0):(r(),R(m,{key:0}))],2)]),_:1})])]),_:1},8,["style"])]),_:1})]),_:1}),n(M,{modelValue:e.showQuickPanel,"onUpdate:modelValue":i[1]||(i[1]=E=>e.showQuickPanel=E)},null,8,["modelValue"])],64)}const kn=W(nn,[["render",ln],["__scopeId","data-v-9512bf12"]]);export{kn as default};
